{
"version":3,
"file":"statics/js/storage.min.js",
"lineCount":9,
"mappings":"AAAA,MAAMA,IAAM,IAAIC,GAAJ,CAAQC,MAAOC,CAAAA,QAAf,CACZC,EAAA,CAAEF,MAAF,CAAUG,CAAAA,EAAV,CAAa,UAAb,CAA0BC,CAAD,EAAO,CAC5BF,CAAEG,CAAAA,IAAF,CAAO,CACHP,IAAK,iBADF,CAEHQ,OAAQ,MAFL,CAGHC,KAAM,CACFC,OAAQJ,CAAEK,CAAAA,KAAMC,CAAAA,MADd,CAHH,CAMHC,QAASC,aANN,CAOHC,MAAOC,WAPJ,CAAP,CAD4B,CAAhC,CAYAZ;CAAA,CAAEa,QAAF,CAAYC,CAAAA,KAAZ,CAAkB,EAAA,EAAM,CACpBd,CAAEG,CAAAA,IAAF,CAAO,CACHP,IAAK,iBADF,CAEHQ,OAAQ,MAFL,CAGHC,KAAM,CACFC,OAAQV,GAAImB,CAAAA,YAAaC,CAAAA,GAAjB,CAAqB,QAArB,CADN,CAHH,CAMHP,QAASC,aANN,CAOHC,MAAOC,WAPJ,CAAP,CAYAZ,EAAA,CAAE,oBAAF,CAAwBiB,CAAAA,KAAxB,CAA8B,EAAA,EAAM,CAChCrB,GAAImB,CAAAA,YAAaG,CAAAA,GAAjB,CAAqB,QAArB,CAA+BlB,CAAA,CAAE,iBAAF,CAAqBmB,CAAAA,GAArB,EAA/B,CACArB,OAAOsB,CAAAA,OAAQC,CAAAA,SAAf,CAAyB,CAAEb,OAAQR,CAAA,CAAE,iBAAF,CAAqBmB,CAAAA,GAArB,EAAV,CAAzB,CAAiE,EAAjE,CAAqEvB,GAArE,CACAI,EAAEG,CAAAA,IAAF,CAAO,CACHP,IAAK,iBADF,CAEHQ,OAAQ,MAFL,CAGHC,KAAM,CACFC,OAAQN,CAAA,CAAE,iBAAF,CAAqBmB,CAAAA,GAArB,EADN,CAHH,CAMHV,QAASC,aANN,CAOHC,MAAOC,WAPJ,CAAP,CAHgC,CAApC,CAboB,CAAxB,CA6BAF;QAASA,cAAa,CAACY,CAAD,CAAM,CAExB,IAAA,CAA0C,CAA1C,CAAOtB,CAAA,CAAE,WAAF,CAAeuB,CAAAA,QAAf,EAA0BC,CAAAA,MAAjC,CAAA,CACIxB,CAAA,CAAE,WAAF,CAAeuB,CAAAA,QAAf,EAA0BE,CAAAA,IAA1B,EAAiCC,CAAAA,MAAjC,EAEJ,IAAwB,CAAxB,CAAIJ,CAAIK,CAAAA,MAAOH,CAAAA,MAAf,CAEI,IAAKI,IAAIA,CAAT,GAAgBN,EAAIK,CAAAA,MAApB,CACIE,OAOA,CAPW;mCACYD,CAAIE,CAAAA,KADhB;2BAEIF,CAAIE,CAAAA,KAFR;6CAGsBF,CAAIG,CAAAA,IAH1B;kDAI2BH,CAAII,CAAAA,MAJ/B,eAIoDJ,CAAIK,CAAAA,QAJxD;;iBAOX,CAAAjC,CAAA,CAAE,WAAF,CAAekC,CAAAA,MAAf,CAAsBL,OAAtB,CAVR,KAaI7B,EAAA,CAAE,WAAF,CAAekC,CAAAA,MAAf,CAAuB,yGAAvB,CAOJlC,EAAA,CAAE,WAAF,CAAemC,CAAAA,IAAf,CAAoB,OAApB,CAA6B,EAA7B,CACAnC,EAAA,CAAE,iBAAF,CAAqBmC,CAAAA,IAArB,CAA0B,OAA1B,CAAmC,yBAAnC,CA1BwB,CA8B5BvB,QAASA,YAAW,CAACU,CAAD,CAAM,CAEtBtB,CAAA,CAAE,yBAAF,CAA6BoC,CAAAA,IAA7B,CAAkCd,CAAIe,CAAAA,OAAtC,CAGArC,EAAA,CAAE,WAAF,CAAemC,CAAAA,IAAf,CAAoB,OAApB,CAA6B,EAA7B,CACAnC,EAAA,CAAE,iBAAF,CAAqBmC,CAAAA,IAArB,CAA0B,OAA1B,CAAmC,kBAAnC,CANsB;",
"sources":["services/frontend/javascript/storage.js"],
"sourcesContent":["const url = new URL(window.location)\n$(window).on(\"popstate\", (e) => {\n    $.ajax({\n        url: \"/storage/search\",\n        method: \"POST\",\n        data: {\n            filter: e.state.search\n        },\n        success: searchSuccess,\n        error: searchError\n    })\n})\n\n$(document).ready(() => {\n    $.ajax({\n        url: \"/storage/search\",\n        method: \"POST\",\n        data: {\n            filter: url.searchParams.get(\"search\")\n        },\n        success: searchSuccess,\n        error: searchError\n    })\n\n\n\n    $(\"#god-search-button\").click(() => {\n        url.searchParams.set(\"search\", $(\"#god-search-bar\").val())\n        window.history.pushState({ search: $(\"#god-search-bar\").val() }, \"\", url);\n        $.ajax({\n            url: \"/storage/search\",\n            method: \"POST\",\n            data: {\n                filter: $(\"#god-search-bar\").val()\n            },\n            success: searchSuccess,\n            error: searchError\n        })\n    })\n})\n\n\nfunction searchSuccess(res) {\n    // Update content\n    while ($(\"#god-list\").children().length > 1) {\n        $(\"#god-list\").children().last().remove()\n    }\n    if (res.result.length > 0) {\n\n        for (var god of res.result) {\n            godItem = `\n            <a href=\"/edit?godId=${god.godId}\">\n                <div id=\"${god.godId}\" class=\"god-item\">\n                    <h2 class=\"god-header\">${god.name}</h2>\n                    <p class=\"god-meta\">Domain: ${god.domain}, Pantheon: ${god.pantheon}</p>\n                </div>\n            </a>`\n            $(\"#god-list\").append(godItem)\n        }\n    } else {\n        $(\"#god-list\").append(`\n        <div class=\"god-item\">\n            <h2 class=\"god-header\">No Gods Found</h2>\n        </div>`)\n    }\n\n    // Make style adjustments\n    $(\"#god-list\").attr(\"class\", \"\")\n    $(\"#god-list-error\").attr('class', 'ui hidden error message')\n}\n\n\nfunction searchError(res) {\n    // Update content\n    $(\"#god-list-error-message\").text(res.message)\n\n    // Make style adjustments\n    $(\"#god-list\").attr(\"class\", \"\")\n    $(\"#god-list-error\").attr('class', 'ui error message')\n}"],
"names":["url","URL","window","location","$","on","e","ajax","method","data","filter","state","search","success","searchSuccess","error","searchError","document","ready","searchParams","get","click","set","val","history","pushState","res","children","length","last","remove","result","god","godItem","godId","name","domain","pantheon","append","attr","text","message"]
}
