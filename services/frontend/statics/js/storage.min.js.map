{
"version":3,
"file":"services/frontend/statics/js/storage.min.js",
"lineCount":12,
"mappings":"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",
"sources":["services/frontend/javascript/storage.js"],
"sourcesContent":["const url = new URL(window.location)\n$(window).on(\"popstate\", (e) => {\n    console.log(\"recovering previous search\")\n    $.ajax({\n        url: \"/storage/search\",\n        method: \"POST\",\n        data: {\n            query: e.state.search\n        },\n        beforeSend: searchWait,\n        success: searchSuccess,\n        error: searchError\n    })\n})\n\n$(document).ready(() => {\n    console.log(`matching search to url: ${url.search}`)\n    $.ajax({\n        url: \"/storage/search\",\n        method: \"POST\",\n        data: {\n            query: url.searchParams.get(\"search\")\n        },\n        beforeSend: searchWait,\n        success: searchSuccess,\n        error: searchError\n    }).then()\n\n\n\n    $(\"#god-search-bar\").keypress((e) => {\n        if (e.which == '13') {\n            console.log(`searching for gods: ${$(\"#god-search-bar\").val()}`)\n            e.preventDefault()\n            url.searchParams.set(\"search\", $(\"#god-search-bar\").val())\n            window.history.pushState({ search: $(\"#god-search-bar\").val() }, \"\", url);\n            $.ajax({\n                url: \"/storage/search\",\n                method: \"POST\",\n                data: {\n                    query: $(\"#god-search-bar\").val()\n                },\n                beforeSend: searchWait,\n                success: searchSuccess,\n                error: searchError\n            })\n        }\n    });\n\n\n\n    $(\"#testing-log-input\").keypress((e) => {\n        if (e.which == '13') {\n            e.preventDefault()\n            var log = $(\"#testing-log-input\").val()\n            var method = $(\"#testing-log-dropdown\").val()\n            switch (method) {\n                case \"console\":\n                    console.log(log)\n                    $(\"#testing-log-input\").val(\"\")\n                    break\n\n                case \"datadog\":\n                    $(\"#testing-log-input\").val(\"\")\n                    var logger = window.DD_LOGS && window.DD_LOGS.logger\n                    logger.info(log)\n                    break\n\n                default:\n                    console.error(`unrecognized logging method: ${method}`)\n                    throw new Error(`Didn't recognize logging method: ${method}`)\n            }\n        }\n    });\n\n\n\n    $(\"#testing-error-button\").click(() => {\n        console.log(\"generating testing error\")\n        $.ajax({\n            url: \"https://random-word-api.herokuapp.com/word?number=3\",\n            method: \"GET\",\n            success: (res) => { throw new Error(`Example error: ${res[0]} - ${res[1]} - ${res[2]}`) },\n            error: (res) => console.error(`error request failed: ${res.status} - ${res.message}`)\n        })\n    })\n\n\n\n    $(\"#testing-custom-event-button\").click(() => {\n        console.warn(\"warning for custom action button\")\n        window.DD_RUM && window.DD_RUM.addAction(\"custom-testing-action\", { \"value\": \"testing\" })\n    })\n})\n\n\nfunction searchWait(req) {\n    // Update content\n    while ($(\"#god-list\").children().length > 2) {\n        $(\"#god-list\").children().last().remove()\n    }\n\n    // Make style adjustments\n    $(\"#god-list\").attr(\"class\", \"\")\n    $(\"#god-list-loader\").attr(\"class\", \"ui active text loader\")\n    $(\"#god-list-error\").attr('class', 'ui hidden error message')\n}\n\n\nfunction searchSuccess(res) {\n    // Update content\n    if (res.result.length > 0) {\n        for (var god of res.result) {\n            godItem = `\n            <a href=\"/edit?godId=${god.godId}\">\n                <div id=\"${god.godId}\" class=\"god-item\">\n                    <h2 class=\"god-header\">${god.name}</h2>\n                    <p class=\"god-meta\">Domain: ${god.domain}, Pantheon: ${god.pantheon}</p>\n                </div>\n            </a>`\n            $(\"#god-list\").append(godItem)\n        }\n    } else {\n        $(\"#god-list\").append(`\n        <div class=\"god-item\">\n            <h2 class=\"god-header\">No Gods Found</h2>\n        </div>`)\n    }\n\n    // Make style adjustments\n    $(\"#god-list\").attr(\"class\", \"\")\n    $(\"#god-list-loader\").attr(\"class\", \"ui hidden text loader\")\n    $(\"#god-list-error\").attr('class', 'ui hidden error message')\n    console.log(`search succeeded: ${res.status}`)\n}\n\n\nfunction searchError(res) {\n    // Update content\n    $(\"#god-list-error-message\").text(res.message)\n\n    // Make style adjustments\n    $(\"#god-list\").attr(\"class\", \"\")\n    $(\"#god-list-loader\").attr(\"class\", \"ui hidden text loader\")\n    $(\"#god-list-error\").attr('class', 'ui error message')\n    console.error(`search failed: ${res.status} - ${res.message}`)\n}"],
"names":["url","URL","window","location","$","on","e","console","log","ajax","method","data","query","state","search","beforeSend","searchWait","success","searchSuccess","error","searchError","document","ready","searchParams","get","then","keypress","which","val","preventDefault","set","history","pushState","info","DD_LOGS","logger","Error","click","res","status","message","warn","DD_RUM","addAction","req","children","length","last","remove","attr","result","god","godItem","godId","name","domain","pantheon","append","text"]
}
