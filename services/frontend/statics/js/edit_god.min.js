const url=new URL(window.location);
$(document).ready(()=>{console.log("getting god");$.ajax({url:"/gods/get",method:"POST",data:{godId:url.searchParams.get("godId")},success:a=>{$("#edit-god-pantheon").val(a.pantheon);$("#edit-god-name").val(a.name);$("#edit-god-domain").val(a.domain);$("#god-description").text(a.description);console.log(`god collection succeeded: status ${a.status}`)},error:a=>{$("#edit-god-form").attr("class","ui error form");$("#edit-god-error-message").text("Failed to get a god for this ID.");console.error(`god collection failed: ${a.status} - ${a.message}`)}});
$("#edit-god-form").submit(a=>{a.preventDefault();console.log("editing god");$.ajax({url:"/gods/update",method:"POST",data:{godId:url.searchParams.get("godId"),pantheon:$("#edit-god-pantheon").val(),name:$("#edit-god-name").val(),domain:$("#edit-god-domain").val()},success:b=>{window.location="/storage";console.log(`god edit succeeded: status ${b.status}`)},error:b=>{$("#edit-god-form").attr("class","ui error form");$("#edit-god-error-message").text(b.message);console.error(`god edit failed: ${b.status} - ${b.message}`)}})});
$("#delete-god-button").click(()=>{console.log("deleting god");$.ajax({url:"/gods/delete",method:"POST",data:{godId:url.searchParams.get("godId")},success:a=>{window.location="/storage";console.log(`god deletion succeeded: status ${a.status}`)},error:a=>{$("#edit-god-form").attr("class","ui error form");$("#edit-god-error-message").text(a.message);console.error(`god deletion failed: ${a.status} - ${a.message}`)}})})});
