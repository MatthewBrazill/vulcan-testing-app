{
"version":3,
"file":"services/frontend/statics/js/user.min.js",
"lineCount":10,
"mappings":"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",
"sources":["services/frontend/javascript/user.js"],
"sourcesContent":["console.log(\"getting user notes\")\n$.ajax({\n    url: `${window.location.pathname}/notes`,\n    method: \"GET\",\n    success: (res) => {\n        // Update content\n        if (res.notes.length > 0) {\n            $(\"#no-user-notes\").hide()\n            for (var note of res.notes) {\n                $(\"#selected-user-notes\").append(`<li>${note}</li>`)\n            }\n        }\n        console.log(`getting notes succeeded: ${res.status}`)\n    },\n    error: (res) => console.error(`getting notes failed: ${res.status} - ${res.message}`)\n})\n\n$(document).ready(() => {\n    loadUsers()\n    $(\".user-item\").click((e) => {\n        var target = $(e.currentTarget).class()\n        while (!target.hasClass(\"user-item\") && !target.hasClass(\"delete-user\")) target = target.parent()\n        if (target.class() == \"delete-user\") {\n            $.ajax({\n                url: \"/user/delete\",\n                method: \"POST\",\n                data: {\n                    username: target.data(\"username\")\n                },\n                success: () => {\n                    console.log(`deleting user succeeded: ${res.status}`)\n                    console.log(\"reloading users\")\n                    loadUsers()\n                },\n                error: (res) => console.error(`deleting user failed: ${res.status} - ${res.message}`)\n            })\n        } else {\n            window.location = `/user/${target.data(\"username\")}`\n        }\n    })\n})\n\n\nfunction loadUsers() {\n    console.log(\"getting users list\")\n    $.ajax({\n        url: \"/users/all\",\n        method: \"GET\",\n        beforeSend: () => {\n            // Update content\n            while ($(\"#user-list\").children().length > 1) {\n                $(\"#user-list\").children().last().remove()\n            }\n\n            // Make style adjustments\n            $(\"#user-list\").attr(\"class\", \"\")\n            $(\"#user-list-loader\").attr(\"class\", \"ui active text loader\")\n            $(\"#user-list-error\").attr('class', 'ui hidden error message')\n        },\n        success: (res) => {\n            // Update content\n            if (res.users.length > 0) {\n                for (var user of res.users) {\n                    item = `\n                    <div class=\"user-item\" data-username=\"${user.username}\">\n                        <h3 class=\"user-header\">\n                            <div>${user.username}</div>\n                            <button class=\"ui small red icon delete-user button\" data-username=\"${user.username}\"><i class=\"ui trash icon\"></i></button>\n                        </h3>\n                    </div>`\n                    $(\"#user-list\").append(item)\n                }\n            } else {\n                $(\"#user-list\").append(`\n                <div class=\"user-item\">\n                    <h2 class=\"user-header\">No Users Found</h2>\n                </div>`)\n            }\n\n            // Make style adjustments\n            $(\"#user-list\").attr(\"class\", \"\")\n            $(\"#user-list-loader\").attr(\"class\", \"ui hidden text loader\")\n            $(\"#user-list-error\").attr('class', 'ui hidden error message')\n            console.log(`getting users succeeded: ${res.status}`)\n        },\n        error: (res) => {\n            // Update content\n            $(\"#user-list-error-message\").text(res.message)\n\n            // Make style adjustments\n            $(\"#user-list\").attr(\"class\", \"\")\n            $(\"#user-list-loader\").attr(\"class\", \"ui hidden text loader\")\n            $(\"#user-list-error\").attr('class', 'ui error message')\n            console.error(`getting users failed: ${res.status} - ${res.message}`)\n        }\n    })\n}"],
"names":["console","log","$","ajax","url","window","location","pathname","method","success","res","notes","length","hide","note","append","status","error","message","document","ready","loadUsers","click","e","target","currentTarget","class","hasClass","parent","data","username","beforeSend","children","last","remove","attr","users","user","item","text"]
}
